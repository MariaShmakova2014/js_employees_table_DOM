{"version":3,"sources":["scripts/main.js"],"names":["sorted","header","document","querySelector","tbody","rowsArray","children","toNumber","element","innerText","slice","replaceAll","body","style","alignSelf","forEach","item","i","clickCounter","addEventListener","e","sort","a","b","localeCompare","prepend","row","activeElement","classList","remove","add","form","createElement","formatNumber","string","newString","length","split","reverse","splice","join","ageValidation","pushNotification","textValidation","isNaN","title","description","type","block","head","massage","setAttribute","textContent","append","setTimeout","innerHTML","preventDefault","newPerson","data","FormData","get","trim","d","field","target","input","cellAge","closest","cellSalary","text","value","className","min","max","replace","currentInput","inputText","parseInt","replaceWith","k","key"],"mappings":"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","file":"main.ce741a3e.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst header = document.querySelector('tr');\nconst tbody = document.querySelector('tbody');\nconst rowsArray = tbody.children;\nlet sorted;\n\ndocument.body.children[0].style.alignSelf = 'flex-start';\n\n[...header.children].forEach((item, i) => {\n  let clickCounter = 0;\n\n  item.addEventListener('click', (e) => {\n    clickCounter++;\n\n    sorted = [...rowsArray].sort((a, b) =>\n      b.children[i].innerText.localeCompare(a.children[i].innerText));\n\n    if (clickCounter % 2) {\n      sorted = [...rowsArray].sort((a, b) =>\n        a.children[i].innerText.localeCompare(b.children[i].innerText));\n    }\n\n    if (item.innerText === 'Salary') {\n      sorted = [...rowsArray].sort((a, b) =>\n        toNumber(b.children[i]) - toNumber(a.children[i]));\n\n      if (clickCounter % 2) {\n        sorted = [...rowsArray].sort((a, b) =>\n          toNumber(a.children[i]) - toNumber(b.children[i]));\n      }\n    }\n\n    tbody.prepend(...sorted);\n  });\n});\n\nfunction toNumber(element) {\n  return +element.innerText.slice(1).replaceAll(',', '');\n};\n\n[...rowsArray].forEach(row => {\n  row.addEventListener('click', (e) => {\n    const activeElement = document.querySelector('.active');\n\n    if (activeElement) {\n      activeElement.classList.remove('active');\n    }\n    row.classList.add('active');\n  });\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\nform.innerHTML = `\n  <label> Name: \n      <input \n        name=\"name\" \n        type=\"text\" \n        data-qa=\"name\"\n        required\n     ></label>\n  <label>Position:\n    <input \n      name=\"position\" \n      type=\"text\" \n      data-qa=\"position\" \n      required\n  ></label>\n  <label>Office:\n    <select name=\"office\" data-qa=\"office\" required>\n      <option value=\"Tokyo\">Tokyo</option>\n      <option value=\"Singapore\">Singapore</option>\n      <option value=\"London\">London</option>\n      <option value=\"New_York\">New York</option>\n      <option value=\"Edinburgh\">Edinburgh</option>\n      <option value=\"San_Francisco\">San Francisco</option>\n    </select>\n  </label>\n  <label>Age: \n    <input \n      name=\"age\" \n      type=\"number\" \n      data-qa=\"age\" \n      required\n  ></label>\n  <label>Salary:\n    <input\n    name=\"salary\"\n    type=\"number\"\n    data-qa=\"salary\"\n    required\n  ></label>\n  <button type=\"submit\">Save to table</button>\n`;\ndocument.body.append(form);\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const newPerson = document.createElement('tr');\n  const data = new FormData(form);\n\n  if (data.get('name').trim().length < 4) {\n    pushNotification('Error', 'Write full name please', 'error');\n\n    return;\n  };\n\n  if (data.get('age') < 18 || data.get('age') > 90) {\n    pushNotification(\n      'Warning', 'Your age must be between 18 and 90 years old', 'warning');\n\n    return;\n  };\n\n  newPerson.innerHTML = `\n    <th>${data.get('name').trim()}</th>\n    <th>${data.get('position').trim()}</th>\n    <th>${data.get('office').trim()}</th>\n    <th>${data.get('age')}</th>\n    <th>${formatNumber(data.get('salary'))}</th>\n  `;\n  tbody.prepend(newPerson);\n});\n\nfunction formatNumber(string) {\n  let newString = string;\n\n  if (string.length > 3) {\n    newString = newString.split('').reverse();\n    newString.splice(3, 0, ',');\n    newString = newString.reverse().join('');\n  }\n\n  return `$${newString}`;\n}\n\ntbody.addEventListener('dblclick', d => {\n  const field = d.target;\n  const input = document.createElement('input');\n  const cellAge = field.closest('tr').children[3];\n  const cellSalary = field.closest('tr').children[4];\n  const text = field.innerText;\n\n  input.value = text;\n  input.className = 'cell-input';\n\n  if (field === cellAge) {\n    input.type = 'number';\n    input.min = '18';\n    input.max = '99';\n  }\n\n  if (field === cellSalary) {\n    input.value = +text.slice(1).replace(',', '');\n    input.type = 'number';\n  }\n\n  field.innerText = '';\n\n  field.append(input);\n\n  input.addEventListener('blur', (b) => {\n    const currentInput = b.target;\n    const inputText = currentInput.value.trim();\n\n    if (field === cellSalary) {\n      (parseInt(inputText) > 0)\n        ? input.replaceWith(formatNumber(inputText))\n        : input.replaceWith(text);\n    }\n\n    if (field === cellAge) {\n      ageValidation(inputText);\n\n      inputText > 18 && inputText < 90\n        ? input.replaceWith(inputText)\n        : input.replaceWith(text);\n    }\n\n    textValidation(inputText);\n\n    inputText.length > 4\n      ? input.replaceWith(inputText)\n      : input.replaceWith(text);\n  });\n\n  input.addEventListener('keypress', k => {\n    const inputText = k.target.value.trim();\n\n    if (k.key === 'Enter') {\n      if (field === cellSalary) {\n        inputText\n          ? input.replaceWith(text)\n          : input.replaceWith(formatNumber(inputText));\n      }\n\n      inputText\n        ? input.replaceWith(text)\n        : input.replaceWith(inputText);\n    }\n  });\n});\n\nfunction ageValidation(string) {\n  if (string < 18 || string > 90) {\n    pushNotification(\n      'Warning', 'Your age must be between 18 and 90 years old', 'warning');\n  };\n}\n\nfunction textValidation(string) {\n  if (isNaN(string) && string.length < 4) {\n    pushNotification('Error', 'Write full name please', 'error');\n  };\n}\n\nfunction pushNotification(title, description, type) {\n  const block = document.createElement('div');\n  const head = document.createElement('h2');\n  const massage = document.createElement('p');\n\n  block.setAttribute('data-qa', 'notification');\n  block.classList.add('notification', type);\n\n  head.textContent = title;\n  massage.textContent = description;\n\n  block.append(head);\n  block.append(massage);\n\n  document.body.append(block);\n\n  setTimeout(function() {\n    block.remove();\n  }, 3000);\n};\n"]}